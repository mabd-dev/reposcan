# v1.3.6 - UI Polish & Architecture Improvements

This release focuses on making the interactive TUI more intuitive and responsive, while significantly improving code organization for better maintainability.

## ‚ú® New Features

### Refresh on Demand
- **New `r` keybinding**: Rescan your filesystem for repositories without restarting the app
- Perfect for when you've just cloned new repos or want to refresh the current state

## üé® UI/UX Improvements

### Automatic Repository Details
- Repository details now appear **automatically** when you select a repo - no more pressing Enter to toggle visibility
- Shows maximum possible lines of changed files to give you the full picture at a glance

### Smarter Layout
- **Repositioned filter input**: Moved to the footer when active
- **Maximized table width**: Repository table now expands to fill the full terminal width
- **Loop scrolling**: Navigate seamlessly - scrolling past the last item wraps to the first (and vice versa)

## üèóÔ∏è Technical & Architecture Changes

### Focus Management System
- Introduced **focus model stack** pattern for managing multiple interactive components
- Cleaner state transitions between table navigation, text input, and popup overlays
- Foundation for future interactive features

### Package Restructuring
- **Dedicated TUI overlay package**: Centralized popup and overlay management
- **Standalone repository details package**: Self-contained component that renders based on provided data
- **Consistent TUI package structure**: Every custom Bubble Tea model now follows a standard layout:
  - `main.go` - initialization and exports
  - `types.go` - model definitions
  - `update.go` - message handling
  - `view.go` - rendering logic
- Removed unused properties from main model for a cleaner codebase

### Benefits
These architectural improvements make the codebase more maintainable, testable, and easier for contributors to navigate.

## üêõ Bug Fixes

- **Filter cursor preservation**: Fixed issue where cursor position was lost when filtering repositories - now maintains your selection when possible
